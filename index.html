<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link href="styles/style.css" rel="stylesheet" type="text/css">
    <title>道具在哪兒？</title>
  </head>
    <h1>位置查詢和修改</h1>
    
    <h2>查詢物品位置</h2>
    <label for="queryItem">輸入要查詢的物品：</label>
    <input type="text" id="queryItem">
    <button onclick="queryLocation()">查詢位置</button>

    <h3>物品位置：</h3>
    <ul>
        <li>item1: <span id="item1Location">位置1</span></li>
        <li>item2: <span id="item2Location">位置2</span></li>
        <!-- 在这里列出所有物品 -->
    </ul>

    <h2>手動修改物品位置</h2>
    <label for="itemSelect">選擇要修改的物品：</label>
    <select id="itemSelect">
        <option value="item1">item1</option>
        <option value="item2">item2</option>
        <!-- 在這裡列出所有物品 -->
    </select>
    <label for="newLocation">輸入新的位置：</label>
    <input type="text" id="newLocation">
    <button onclick="updateLocation()">修改位置</button>
    <script>
      // 获取查询输入框
      const queryItem = document.getElementById("queryItem");
      
      // 模拟物品位置数据（替代SQLite数据库）
      let itemLocations = {
          item1: "位置1",
          item2: "位置2",
          // 在这里添加所有物品和它们的位置
      };
      
      // 初始化显示物品位置
      for (const item in itemLocations) {
          const locationElement = document.getElementById(item + "Location");
          if (locationElement) {
              locationElement.textContent = itemLocations[item];
          }
      }
      
      // 处理查询操作
      function queryLocation() {
          const itemToQuery = queryItem.value;
      
          if (itemLocations[itemToQuery] !== undefined) {
              alert(`${itemToQuery} 的位置是：${itemLocations[itemToQuery]}`);
          } else {
              alert(`${itemToQuery} 未找到`);
          }
      }
      
      // 获取选择物品和新位置输入框
      const itemSelect = document.getElementById("itemSelect");
      const newLocation = document.getElementById("newLocation");
      
      // 处理修改位置操作
      function updateLocation() {
          const selectedItem = itemSelect.value;
          const newLocationValue = newLocation.value;
      
          if (itemLocations[selectedItem] !== undefined) {
              itemLocations[selectedItem] = newLocationValue;
      
              // 更新显示的位置
              const locationElement = document.getElementById(selectedItem + "Location");
              if (locationElement) {
                  locationElement.textContent = newLocationValue;
              }
          } else {
              alert("物品不存在");
          }
      
          // 可以将更新后的数据保存在本地存储中
          // localStorage.setItem("itemLocations", JSON.stringify(itemLocations));
      }
      
      // 从本地存储中恢复数据
      // const savedItemLocations = localStorage.getItem("itemLocations");
      // if (savedItemLocations) {
      //     itemLocations = JSON.parse(savedItemLocations);
      // }
    </script>
</html> 
